
<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <report
        id="oryx_cylinder_label_report"
        string="Cylinder Label"
        model="stock.production.lot"
        report_type="qweb-pdf"
        name="oryx_cylinder_tracking.cylinder_label"
        file="oryx_cylinder_tracking.cylinder_label"
    />

    <template id="cylinder_label">
        <t t-call="web.external_layout">
            <div class="page">
                <t t-foreach="docs" t-as="lot">
                    <div style="border:1px solid #ccc; padding:8px; margin-bottom:6px; width:260px;">
                        <t t-set="code" t-value="lot.barcode_value or lot.name"/>
                        <t t-set="qr" t-value="lot.qr_code_data or ('https://example.com/lot/%s' % lot.id)"/>
                        <p><strong><t t-esc="lot.name"/></strong></p>
                        <div>
                            <span>Code128:</span>
                            <barcode value="code" type="Code128"/>
                        </div>
                        <div>
                            <span>QR:</span>
                            <barcode value="qr" type="QR"/>
                        </div>
                    </div>
                </t>
            </div>
        </t>
    </template>
</odoo>
